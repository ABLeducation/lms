{% extends 'student_template/base_template.html' %}

{% block page_title %}
    Student Home
{% endblock page_title %}

{% block main_content %}

{% load static %}

<section class="content">
        <div class="container-fluid">

            {% comment %} Boxes Section Starts {% endcomment %}
            <div class="row">
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-info">
                    <div class="inner">
                        <h3>Subjects - {{ total_attendance }}</h3>
                        <p>My Course</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-stats-bars"></i>
                    </div>
                    <a href="{% url 'users:subjects' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-success">
                    <div class="inner">
                        <h3>Login Count - {{ logs }}</h3>
                        <p>My Activity Report</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-stats-bars"></i>
                    </div>
                    <a href="{% url 'users:sstudent_login_activity' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-info">
                    <div class="inner">
                        {% if attendance_absent %}
                            <h3>{{ attendance_present|floatformat:2 }} %</h3>
                        {% endif %}

                        <p>My Performance</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-stats-bars"></i>
                    </div>
                    <a href="" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <!-- ./col -->
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-success">
                    <div class="inner">
                        {% if attendance_absent %}
                            <h3>Rank - {{ attendance_absent }}</h3>
                        {% endif %}

                        <p>Leaderboard</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-stats-bars"></i>
                    </div>
                    <a href="{% url 'users:student_leaderboard' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <!-- ./col -->
                <div class="col-lg-3 col-6">
                    <!-- small box -->
                    <div class="small-box bg-info">
                    <div class="inner">
                        {% if unread_notifications %}  
                            <h3>{{ unread_notifications }}</h3>
                        {% else %}
                            <h3>0</h3>
                        {% endif %}
                        <p>Notification</p>
                    </div>
                    <div class="icon">
                        <i class="ion ion-pie-graph"></i>
                    </div>
                    <a href="{% url 'users:notification' %}" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
                    </div>
                </div>
                <!-- ./col -->
            </div>
            {% comment %} Boxes Section Ends {% endcomment %}

            <!--<div class="row">-->
            <!--    <div class="col-lg-6">-->
            <!--        <div class="card card-danger">-->
            <!--        <div class="card-header">-->
            <!--            <h3 class="card-title">Total Attendance Chart</h3>-->

            <!--            <div class="card-tools">-->
            <!--            <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>-->
            <!--            </button>-->
            <!--            <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>-->
            <!--            </div>-->
            <!--        </div>-->
            <!--        <div class="card-body">-->
            <!--            <canvas id="pieChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>-->
            <!--        </div>-->
            <!--        </div>-->
            <!--    </div>-->
            <!--</div>-->
        </div>
      </section>

  {% endblock main_content %}

  {% block custom_js %}
    // <script>
    //   $(document).ready(function(){
    //         var pieData        = {
    //         labels: [
    //             'ABSENT', 
    //             'PRESENT', 
    //         ],
    //         datasets: [
    //             {
    //             data: [{{ attendance_absent }}, {{ attendance_present }}],
    //             backgroundColor : ['#f56954', '#00a65a'],
    //             }
    //         ]
    //         }
    //         var pieChartCanvas = $('#pieChart').get(0).getContext('2d')
    //         var pieData        = pieData;
    //         var pieOptions     = {
    //         maintainAspectRatio : false,
    //         responsive : true,
    //         }
    //         var pieChart = new Chart(pieChartCanvas, {
    //         type: 'pie',
    //         data: pieData,
    //         options: pieOptions      
    //         })

    //   })
    // </script>
  {% endblock custom_js %}